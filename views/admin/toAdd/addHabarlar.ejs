<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.quilljs.com/1.0.0/quill.snow.css" rel="stylesheet">
</head>
<body>
    <%- include ('../admin.ejs') %>
    <div class="adminContainer">
        <div class="main">
            <div class="pageHeader">
                <%= name %> 
            </div>
        </div>
    <form action="/addHabar" method="POST" id="identifier">
        <div class="adminTable addHabar">
                <div class="box">
                    <div class="boxHeader">Türkmençe giriziň</div>
                    <input type="hidden" name="TMtext">
                    <div class="mazmun">Mazmuny:</div>
                    <div class="editorCon">
                        <div id="editor">
                            <p></p>
                        </div>
                    </div>
                    <div class="inputs">
                        <div class="pdf">
                            <div class="name">Faýl (PDF) giriziň:</div>
                            <label for="file1">
                                <div class="text">Maglumat giriziň</div>
                                <div><img src="/pictures/icon/folder.svg" alt="fdf"></div>
                            </label>
                            <input id="file1" name="pdf" type="file" style="display: none;">
                        </div>
                        <div class="date">
                            <div class="name">M.girizilen senesi:</div>
                            <input type="date" name="date">
                        </div>
                    </div>
                </div>
                <div class="box">
                    <div class="boxHeader">Rusça giriziň</div>
                    <div class="mazmun">Mazmuny:</div>
                    <div class="editorCon">
                        <div id="editor2">
                        <p></p>
                        </div>
                    </div>
                </div>
                <div class="box">
                    <div class="boxHeader">Iňlisçe giriziň</div>
                    <div class="mazmun">Mazmuny:</div>
                    <div class="editorCon">
                        <div id="editor3">
                        <p></p>
                        </div>
                    </div>
                </div>
                <div class="box imgBox">
                    <div class="boxHeader">Suraty giriziň</div>
                    <div class="mazmun">Suraty giriziň:</div>
                    <div class="inputs">
                        <p><input type="file"  accept="image/*" name="image" id="img" onchange="loadFile(event)" style="display: none;"></p>
                        <label class="imgLbCon" for="img"><img id="output" src="/pictures/icon/addPicture.svg" /></label>
                    </div>
                </div>
                <textarea name="text" style="display: none;" id="hiddenArea" cols="30"  rows="10"></textarea>
                <textarea name="text2" id="hiddenArea2" style="display: none;" cols="30"  rows="10"></textarea>
                <textarea name="text3" id="hiddenArea3" cols="30" style="display: none;" rows="10"></textarea>
                <input class="save" type="submit" value="Ýatda sakla">
        </div>
    </form>
    </div>




    <!-- picture show when i choose from file -->
    <script>
        var loadFile = function(event) {
            var image = document.getElementById('output');
            image.src = URL.createObjectURL(event.target.files[0]);
            image.style.width = "100%";
            image.style.height = "100%";
        };
    </script>


    <!-- pdf name give to label value -->

    <script>
        var file = document.querySelector(".pdf input[type='file']");
        file.addEventListener("change",function(){
            var text = this.value.split("\\")[2];
            this.parentNode.childNodes[3].childNodes[1].textContent = text;
        });
    </script>

    <script src="https://cdn.quilljs.com/1.0.0/quill.js"></script>
 
    <!-- Initialize Quill editor -->
    <script>
        
      var editor = new Quill('#editor', {
        modules: { },
        theme: 'snow'
      });
      var editor = new Quill('#editor2', {
        modules: { },
        theme: 'snow'
      });
      var editor = new Quill('#editor3', {
        modules: { },
        theme: 'snow'
      });

    //   3 sany textarea girizilen maglumatlary hidden textarea girizyar
    var idForm = document.querySelector("#identifier");
    var hiddenText = document.querySelector("#hiddenArea");
    var hiddenText2 = document.querySelector("#hiddenArea2");
    var hiddenText3 = document.querySelector("#hiddenArea3");

    idForm.addEventListener("submit",function(){
        var text = document.querySelector("#editor .ql-editor");
        var text2 = document.querySelector("#editor2 .ql-editor");
        var text3 = document.querySelector("#editor3 .ql-editor");
        hiddenText.value = text.innerHTML;
        hiddenText2.value = text2.innerHTML;
        hiddenText3.value = text3.innerHTML;
    })
    </script> 

</body>
</html>


